ARG POSTGRES_DB_USER
ARG POSTGRES_DB_PASS
ARG REDIS_HOST
ARG REDIS_PORT

FROM amazoncorretto:17
ARG POSTGRES_DB_USER
ARG POSTGRES_DB_PASS
ARG REDIS_HOST
ARG REDIS_PORT
ENV POSTGRES_DB_USER=${POSTGRES_DB_USER}
ENV POSTGRES_DB_PASS=${POSTGRES_DB_PASS}
ENV REDIS_HOST=${REDIS_HOST}
ENV REDIS_PORT=${REDIS_PORT}
WORKDIR /usr/src
EXPOSE 8082
CMD ["java","-jar","server.jar","--spring.profiles.active=prod", "--spring.datasource.username=${POSTGRES_DB_USER}", "--spring.datasource.password=${POSTGRES_DB_PASS}", "--spring.redis.host=${REDIS_HOST}", "--spring.redis.port=${REDIS_PORT}"]